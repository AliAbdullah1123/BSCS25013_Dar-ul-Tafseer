<!DOCTYPE html>
<html id="chatbot-html" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chatbot</title>
    <link rel="stylesheet" href="BSCS25013_styles.css">
    <script>
    // Simple chatbot logic for beginners
    document.addEventListener("DOMContentLoaded", function() {
      // Close button hides the chatbot window
      document.getElementById('chatbot-close').onclick = function() {
        if(window.parent !== window) {
          window.parent.postMessage('close-chatbot', '*');
        } else {
          window.close();
        }
      };
      // Show input area when Start Chat is clicked
      document.getElementById('start-chat-btn').onclick = function() {
        document.getElementById('chatbot-initiate').style.display = 'none';
        document.getElementById('chatbot-input-area').style.display = 'flex';
        addChatMessage('Bot', 'Hello! How can I help you today?', 'chatbot-bot-msg');
        document.getElementById('chatbot-input').focus();
      };
      // Add message to chat
      function addChatMessage(sender, text, className) {
        var messages = document.getElementById('chatbot-messages');
        var div = document.createElement('div');
        div.className = className;
        div.textContent = sender + ': ' + text;
        messages.appendChild(div);
        messages.scrollTop = messages.scrollHeight;
      }
      // Send message when button is clicked
      window.sendChatbotMessage = function() {
        var input = document.getElementById('chatbot-input');
        var userMsg = input.value.trim();
        if (!userMsg) return;
        addChatMessage('You', userMsg, 'chatbot-user-msg');
        input.value = '';
        // Simple bot replies
        var botReply = '';
        if (userMsg.toLowerCase().includes('hello') || userMsg.toLowerCase().includes('hi')) {
          botReply = 'Hello! How can I assist you today?';
        } else if (userMsg.toLowerCase().includes('product')) {
          botReply = 'We offer a variety of products. Please visit our Products page.';
        } else if (userMsg.toLowerCase().includes('contact')) {
          botReply = 'You can contact us at aliabdullah39111@gmail.com or use the contact form.';
        } else if (userMsg.toLowerCase().includes('bye')) {
          botReply = 'Goodbye! Have a great day!';
        } else {
          botReply = 'Sorry, I am a simple bot and can only answer basic questions.';
        }
        addChatMessage('Bot', botReply, 'chatbot-bot-msg');
      };
    });
    </script>
</head>
<body id="chatbot-body">
    <div class="chatbot-window" id="chatbot-window">
        <div class="chatbot-header">
            Chatbot
            <span id="chatbot-close">&times;</span>
        </div>
        <div id="chatbot-messages" class="chatbot-messages"></div>
        <div id="chatbot-initiate">
            <button id="start-chat-btn">Start Chat</button>
        </div>
        <div id="chatbot-input-area" style="display:none;">
            <input type="text" id="chatbot-input" placeholder="Type your message..." />
            <button onclick="sendChatbotMessage()">Send</button>
        </div>
    </div>
</body>
</html>
